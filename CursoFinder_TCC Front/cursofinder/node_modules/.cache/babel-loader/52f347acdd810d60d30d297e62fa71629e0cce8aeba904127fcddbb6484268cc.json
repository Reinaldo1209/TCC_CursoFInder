{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reina\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\TCC\\\\CursoFinder_TCC Front\\\\cursofinder\\\\src\\\\pages\\\\Tela Inicial\\\\BuscarCurso.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, Button, Form, Modal } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"../TelasHeadFoot/Header\";\nimport Footer from \"../TelasHeadFoot/Footer\";\nimport { FaStar, FaFilter, FaLink, FaRegStar, FaChevronDown } from \"react-icons/fa\";\nimport './TelaInicial.css';\nimport { useAuth } from \"../../context/AuthProvider\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchCoursesPage() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredCourses, setFilteredCourses] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [avaliacoes, setAvaliacoes] = useState({});\n  const [novaNota, setNovaNota] = useState(0);\n  const [hoverNota, setHoverNota] = useState(0);\n  const [novoComentario, setNovoComentario] = useState(\"\");\n  const [avaliandoCursoId, setAvaliandoCursoId] = useState(null);\n  const [tipoFiltro, setTipoFiltro] = useState(\"\");\n  const [localizacaoFiltro, setLocalizacaoFiltro] = useState(\"\");\n  const [avaliacaoFiltro, setAvaliacaoFiltro] = useState(0);\n  const [showAvaliacaoModal, setShowAvaliacaoModal] = useState(false);\n  const [cursoParaAvaliar, setCursoParaAvaliar] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [showAvaliacoesId, setShowAvaliacoesId] = useState(null);\n  const [backendError, setBackendError] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    isAuthenticated\n  } = useAuth();\n  useEffect(() => {\n    fetch(\"https://localhost:7238/api/Curso\").then(res => res.json()).then(data => setCourses(data)).catch(err => console.error(\"Erro ao buscar cursos:\", err));\n  }, []);\n\n  // Buscar avaliações de todos os cursos ao carregar cursos\n  useEffect(() => {\n    if (courses.length > 0) {\n      courses.forEach(course => {\n        fetch(`https://localhost:7238/api/avaliacoes/${course.id}`).then(res => res.json()).then(data => {\n          setAvaliacoes(prev => ({\n            ...prev,\n            [course.id]: data\n          }));\n        }).catch(err => console.error(\"Erro ao buscar avaliações:\", err));\n      });\n    }\n  }, [courses]);\n\n  // Salvar curso: enviar apenas o cursoId (número) no body\n  const salvarCurso = cursoId => {\n    setBackendError(\"\");\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    fetch(\"https://localhost:7238/api/CursosSalvos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(cursoId)\n    }).then(async res => {\n      if (!res.ok) {\n        const text = await res.text();\n        setBackendError(text || \"Erro ao salvar curso\");\n        throw new Error(text || \"Erro ao salvar curso\");\n      }\n      return res.text();\n    }).then(msg => alert(msg)).catch(err => {\n      if (!err.message.includes('Erro ao salvar curso')) {\n        setBackendError(\"Não foi possível salvar o curso.\");\n      }\n    });\n  };\n\n  // Atualiza cursos filtrados em tempo real ao mudar filtros ou busca\n  useEffect(() => {\n    const filtered = courses.filter(course => {\n      var _course$titulo, _course$tipo, _ref;\n      const nomeMatch = (_course$titulo = course.titulo) === null || _course$titulo === void 0 ? void 0 : _course$titulo.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? ((_course$tipo = course.tipo) === null || _course$tipo === void 0 ? void 0 : _course$tipo.toLowerCase()) === tipoFiltro.toLowerCase() : true;\n      const localizacaoMatch = localizacaoFiltro ? ((_ref = course.localização || course.localizacao) === null || _ref === void 0 ? void 0 : _ref.toLowerCase()) === localizacaoFiltro.toLowerCase() : true;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? calcularMediaEstrelas(course.id) >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  }, [searchTerm, tipoFiltro, localizacaoFiltro, avaliacaoFiltro, courses]);\n\n  // Ordena cursos do mais recente para o mais antigo\n  useEffect(() => {\n    const sortedCourses = [...courses].sort((a, b) => {\n      // Tenta usar dataCriacao, senão usa id (se incremental)\n      if (b.dataCriacao && a.dataCriacao) {\n        return new Date(b.dataCriacao) - new Date(a.dataCriacao);\n      }\n      return (b.id || 0) - (a.id || 0);\n    });\n    const filtered = sortedCourses.filter(course => {\n      var _course$titulo2, _course$tipo2, _ref2;\n      const nomeMatch = (_course$titulo2 = course.titulo) === null || _course$titulo2 === void 0 ? void 0 : _course$titulo2.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? ((_course$tipo2 = course.tipo) === null || _course$tipo2 === void 0 ? void 0 : _course$tipo2.toLowerCase()) === tipoFiltro.toLowerCase() : true;\n      const localizacaoMatch = localizacaoFiltro ? ((_ref2 = course.localização || course.localizacao) === null || _ref2 === void 0 ? void 0 : _ref2.toLowerCase()) === localizacaoFiltro.toLowerCase() : true;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? calcularMediaEstrelas(course.id) >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  }, [searchTerm, tipoFiltro, localizacaoFiltro, avaliacaoFiltro, courses]);\n  const cursosParaExibir = searchTerm || tipoFiltro || localizacaoFiltro || avaliacaoFiltro > 0 ? filteredCourses : [...courses].sort((a, b) => {\n    if (b.dataCriacao && a.dataCriacao) {\n      return new Date(b.dataCriacao) - new Date(a.dataCriacao);\n    }\n    return (b.id || 0) - (a.id || 0);\n  });\n  const toggleDetalhes = cursoId => {\n    setExpandedCourseId(expandedCourseId === cursoId ? null : cursoId);\n  };\n\n  // Avaliar curso: enviar objeto completo conforme backend espera\n  const enviarAvaliacao = cursoId => {\n    setBackendError(\"\");\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch {}\n    if (!userId) {\n      setBackendError(\"Usuário inválido.\");\n      return;\n    }\n    const avaliacao = {\n      cursoId,\n      userId,\n      nota: novaNota,\n      comentario: novoComentario,\n      dataAvaliacao: new Date().toISOString()\n    };\n    fetch(\"https://localhost:7238/api/Avaliacoes\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(avaliacao)\n    }).then(async res => {\n      if (!res.ok) {\n        const text = await res.text();\n        setBackendError(text || \"Erro ao enviar avaliação\");\n        throw new Error(text || \"Erro ao enviar avaliação\");\n      }\n      alert(\"Avaliação enviada!\");\n      // Atualiza avaliações após envio\n      fetch(`https://localhost:7238/api/avaliacoes/${cursoId}`).then(res => res.json()).then(data => {\n        setAvaliacoes(prev => ({\n          ...prev,\n          [cursoId]: data\n        }));\n      });\n      setNovaNota(0);\n      setNovoComentario(\"\");\n    }).catch(err => {\n      if (!err.message.includes('Erro ao enviar avaliação')) {\n        setBackendError(\"Erro ao enviar avaliação.\");\n      }\n    });\n  };\n  const calcularMediaEstrelas = cursoId => {\n    const lista = avaliacoes[cursoId];\n    if (!lista || lista.length === 0) return 0;\n    const soma = lista.reduce((acc, cur) => acc + cur.nota, 0);\n    return soma / lista.length;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainTheme\",\n      style: {\n        paddingTop: \"125px\",\n        paddingBottom: \"150px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-5\",\n        children: [backendError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red',\n            marginBottom: 10,\n            textAlign: 'center',\n            fontWeight: 'bold'\n          },\n          children: backendError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-primary\",\n            size: \"md\",\n            style: {\n              minWidth: 180,\n              fontWeight: 500,\n              fontSize: '1rem'\n            },\n            onClick: () => navigate('/meuscursos'),\n            children: [/*#__PURE__*/_jsxDEV(FaStar, {\n              style: {\n                marginRight: 8,\n                marginBottom: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), \"Meus Cursos Salvos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center mb-4\",\n          children: \"Busque o curso dos seus sonhos!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => e.preventDefault(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-4 gap-2 align-items-center flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"search\",\n              className: \"flex-grow-1 m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Digite o nome do curso\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                style: {\n                  height: '50px',\n                  fontSize: '1.25rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              style: {\n                height: '50px',\n                fontSize: '1.5rem',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                minWidth: 60\n              },\n              onClick: () => setShowFilters(f => !f),\n              title: \"Filtros\",\n              children: /*#__PURE__*/_jsxDEV(FaFilter, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-4 gap-2 align-items-center flex-wrap animate__animated animate__fadeInDown\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"tipoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: tipoFiltro,\n                onChange: e => setTipoFiltro(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), [...new Set(courses.map(c => c.tipo).filter(Boolean))].map(tipo => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: tipo,\n                  children: tipo\n                }, tipo, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"localizacaoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: localizacaoFiltro,\n                onChange: e => setLocalizacaoFiltro(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Localiza\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), [...new Set(courses.map(c => c.localização || c.localizacao).filter(Boolean))].map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: loc,\n                  children: loc\n                }, loc, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"avaliacaoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: avaliacaoFiltro,\n                onChange: e => setAvaliacaoFiltro(Number(e.target.value)),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 0,\n                  children: \"Avalia\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), [1, 2, 3, 4, 5].map(nota => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: nota,\n                  children: [nota, \" estrelas ou mais\"]\n                }, nota, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-4\",\n          children: cursosParaExibir.length > 0 ? cursosParaExibir.map(course => {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"h-100 shadow detalhe\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    className: \"d-flex align-items-center justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: course.titulo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"d-flex align-items-center gap-2\",\n                      children: [course.link && /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: course.link,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        title: \"Acessar Site do Curso\",\n                        style: {\n                          color: '#0d6efd',\n                          fontSize: 22,\n                          marginRight: 8\n                        },\n                        children: /*#__PURE__*/_jsxDEV(FaLink, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          cursor: 'pointer',\n                          fontSize: 22\n                        },\n                        title: \"Favoritar\",\n                        onClick: () => {\n                          if (!isAuthenticated) {\n                            navigate('/login');\n                          } else {\n                            salvarCurso(course.id);\n                          }\n                        },\n                        onMouseEnter: e => e.currentTarget.firstChild.style.color = '#ffc107',\n                        onMouseLeave: e => e.currentTarget.firstChild.style.color = '',\n                        children: /*#__PURE__*/_jsxDEV(FaRegStar, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 305,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    children: course.instituicao\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 25\n                  }, this), (() => {\n                    const listaAvaliacoes = avaliacoes[course.id] || [];\n                    const media = calcularMediaEstrelas(course.id);\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(FaStar, {\n                        color: i < Math.round(media) ? \"#ffc107\" : \"#e4e5e9\"\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 318,\n                        columnNumber: 33\n                      }, this)), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"ms-2\",\n                        children: [media > 0 ? media.toFixed(1) : \"0.0\", \" (\", listaAvaliacoes.length, \" avalia\\xE7\\xF5es)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 29\n                    }, this);\n                  })(), expandedCourseId === course.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Descri\\xE7\\xE3o:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 32\n                      }, this), \" \", course.descricao || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Tipo:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 32\n                      }, this), \" \", course.tipo || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Localiza\\xE7\\xE3o:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 32\n                      }, this), \" \", course.localização || course.localizacao || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Carga Hor\\xE1ria:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 32\n                      }, this), \" \", course.cargaHoraria || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Valor:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 32\n                      }, this), \" \", course.valor || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between mt-3 flex-wrap gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      title: expandedCourseId === course.id ? \"Ocultar Detalhes\" : \"Ver Detalhes\",\n                      onClick: () => toggleDetalhes(course.id),\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa-solid fa-chevron-down \",\n                        style: {\n                          transform: expandedCourseId === course.id ? 'rotate(180deg)' : 'rotate(0deg)',\n                          transition: 'transform 0.3s ease'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"warning\",\n                      onClick: () => {\n                        if (!isAuthenticated) {\n                          navigate('/login');\n                        } else {\n                          if (showAvaliacoesId === course.id) {\n                            setShowAvaliacoesId(null);\n                          } else {\n                            setShowAvaliacoesId(course.id);\n                            if (!avaliacoes[course.id]) {\n                              fetch(`https://localhost:7238/api/avaliacoes/${course.id}`).then(res => res.json()).then(data => {\n                                setAvaliacoes(prev => ({\n                                  ...prev,\n                                  [course.id]: data\n                                }));\n                              });\n                            }\n                          }\n                        }\n                      },\n                      children: \"Avalia\\xE7\\xF5es\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 25\n                  }, this), showAvaliacoesId === course.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mt-3\",\n                      children: \"Avalia\\xE7\\xF5es\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 29\n                    }, this), avaliacoes[course.id] && avaliacoes[course.id].length > 0 ? avaliacoes[course.id].map((a, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [a.usuario || \"Usuário\", \":\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 382,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: 18\n                        },\n                        children: [...Array(5)].map((_, idx) => /*#__PURE__*/_jsxDEV(FaStar, {\n                          color: idx < a.nota ? \"#ffc107\" : \"#e4e5e9\",\n                          style: {\n                            marginRight: 2\n                          }\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 385,\n                          columnNumber: 39\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 35\n                      }, this), a.comentario && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: /*#__PURE__*/_jsxDEV(\"em\", {\n                          children: a.comentario\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 392,\n                          columnNumber: 55\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 52\n                      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 35\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 33\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Sem avalia\\xE7\\xF5es ainda.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"primary\",\n                      className: \"mt-2\",\n                      onClick: () => {\n                        if (!isAuthenticated) {\n                          navigate('/login');\n                        } else {\n                          setCursoParaAvaliar(course.id);\n                          setShowAvaliacaoModal(true);\n                        }\n                      },\n                      children: \"Avaliar este curso\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this)\n            }, course.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: \"Nenhum curso encontrado com os crit\\xE9rios atuais.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAvaliacaoModal,\n      onHide: () => setShowAvaliacaoModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Avaliar Curso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"novaNota\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Nota\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(FaStar, {\n                color: star <= (hoverNota || novaNota) ? \"#ffc107\" : \"#e4e5e9\",\n                size: 30,\n                onMouseEnter: () => setHoverNota(star),\n                onMouseLeave: () => setHoverNota(0),\n                onClick: () => setNovaNota(star),\n                style: {\n                  cursor: \"pointer\",\n                  marginRight: 5\n                }\n              }, star, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"novoComentario\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Coment\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              value: novoComentario,\n              onChange: e => setNovoComentario(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setShowAvaliacaoModal(false),\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => {\n            enviarAvaliacao(cursoParaAvaliar);\n            setShowAvaliacaoModal(false);\n          },\n          children: \"Enviar Avalia\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchCoursesPage, \"A6ePCsDxbKjyLZPtxNN89suS0pQ=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = SearchCoursesPage;\nvar _c;\n$RefreshReg$(_c, \"SearchCoursesPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","Modal","useNavigate","Header","Footer","FaStar","FaFilter","FaLink","FaRegStar","FaChevronDown","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchCoursesPage","_s","searchTerm","setSearchTerm","filteredCourses","setFilteredCourses","courses","setCourses","expandedCourseId","setExpandedCourseId","avaliacoes","setAvaliacoes","novaNota","setNovaNota","hoverNota","setHoverNota","novoComentario","setNovoComentario","avaliandoCursoId","setAvaliandoCursoId","tipoFiltro","setTipoFiltro","localizacaoFiltro","setLocalizacaoFiltro","avaliacaoFiltro","setAvaliacaoFiltro","showAvaliacaoModal","setShowAvaliacaoModal","cursoParaAvaliar","setCursoParaAvaliar","showFilters","setShowFilters","showAvaliacoesId","setShowAvaliacoesId","backendError","setBackendError","navigate","isAuthenticated","fetch","then","res","json","data","catch","err","console","error","length","forEach","course","id","prev","salvarCurso","cursoId","token","localStorage","getItem","method","headers","Authorization","body","JSON","stringify","ok","text","Error","msg","alert","message","includes","filtered","filter","_course$titulo","_course$tipo","_ref","nomeMatch","titulo","toLowerCase","tipoMatch","tipo","localizacaoMatch","localização","localizacao","avaliacaoMatch","calcularMediaEstrelas","sortedCourses","sort","a","b","dataCriacao","Date","_course$titulo2","_course$tipo2","_ref2","cursosParaExibir","toggleDetalhes","enviarAvaliacao","userId","decoded","parse","atob","split","avaliacao","nota","comentario","dataAvaliacao","toISOString","lista","soma","reduce","acc","cur","style","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","className","paddingTop","paddingBottom","color","marginBottom","textAlign","fontWeight","variant","size","minWidth","fontSize","onClick","marginRight","onSubmit","e","preventDefault","Group","controlId","Control","type","placeholder","value","onChange","target","height","display","alignItems","justifyContent","f","title","Select","Set","map","c","Boolean","loc","Number","md","Body","Title","link","href","rel","cursor","onMouseEnter","currentTarget","firstChild","onMouseLeave","Text","instituicao","listaAvaliacoes","media","Array","_","i","Math","round","toFixed","descricao","cargaHoraria","valor","transform","transition","usuario","idx","show","onHide","closeButton","Label","star","as","rows","_c","$RefreshReg$"],"sources":["C:/Users/reina/OneDrive/Área de Trabalho/TCC/CursoFinder_TCC Front/cursofinder/src/pages/Tela Inicial/BuscarCurso.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container, Row, Col, Card, Button, Form, Modal\n} from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"../TelasHeadFoot/Header\";\nimport Footer from \"../TelasHeadFoot/Footer\";\nimport { FaStar, FaFilter, FaLink, FaRegStar, FaChevronDown } from \"react-icons/fa\";\nimport './TelaInicial.css';\nimport { useAuth } from \"../../context/AuthProvider\";\n\nexport default function SearchCoursesPage() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredCourses, setFilteredCourses] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [avaliacoes, setAvaliacoes] = useState({});\n  const [novaNota, setNovaNota] = useState(0);\n  const [hoverNota, setHoverNota] = useState(0);\n  const [novoComentario, setNovoComentario] = useState(\"\");\n  const [avaliandoCursoId, setAvaliandoCursoId] = useState(null);\n  const [tipoFiltro, setTipoFiltro] = useState(\"\");\n  const [localizacaoFiltro, setLocalizacaoFiltro] = useState(\"\");\n  const [avaliacaoFiltro, setAvaliacaoFiltro] = useState(0);\n  const [showAvaliacaoModal, setShowAvaliacaoModal] = useState(false);\n  const [cursoParaAvaliar, setCursoParaAvaliar] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [showAvaliacoesId, setShowAvaliacoesId] = useState(null);\n  const [backendError, setBackendError] = useState(\"\");\n  const navigate = useNavigate();\n  const { isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    fetch(\"https://localhost:7238/api/Curso\")\n      .then(res => res.json())\n      .then(data => setCourses(data))\n      .catch(err => console.error(\"Erro ao buscar cursos:\", err));\n  }, []);\n\n  // Buscar avaliações de todos os cursos ao carregar cursos\n  useEffect(() => {\n    if (courses.length > 0) {\n      courses.forEach(course => {\n        fetch(`https://localhost:7238/api/avaliacoes/${course.id}`)\n          .then(res => res.json())\n          .then(data => {\n            setAvaliacoes(prev => ({\n              ...prev,\n              [course.id]: data\n            }));\n          })\n          .catch(err => console.error(\"Erro ao buscar avaliações:\", err));\n      });\n    }\n  }, [courses]);\n\n  // Salvar curso: enviar apenas o cursoId (número) no body\n  const salvarCurso = (cursoId) => {\n    setBackendError(\"\");\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    fetch(\"https://localhost:7238/api/CursosSalvos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(cursoId)\n    })\n      .then(async res => {\n        if (!res.ok) {\n          const text = await res.text();\n          setBackendError(text || \"Erro ao salvar curso\");\n          throw new Error(text || \"Erro ao salvar curso\");\n        }\n        return res.text();\n      })\n      .then(msg => alert(msg))\n      .catch(err => {\n        if (!err.message.includes('Erro ao salvar curso')) {\n          setBackendError(\"Não foi possível salvar o curso.\");\n        }\n      });\n  };\n\n  // Atualiza cursos filtrados em tempo real ao mudar filtros ou busca\n  useEffect(() => {\n    const filtered = courses.filter(course => {\n      const nomeMatch = course.titulo?.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? (course.tipo?.toLowerCase() === tipoFiltro.toLowerCase()) : true;\n      const localizacaoMatch = localizacaoFiltro ? ((course.localização || course.localizacao)?.toLowerCase() === localizacaoFiltro.toLowerCase()) : true;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? calcularMediaEstrelas(course.id) >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  }, [searchTerm, tipoFiltro, localizacaoFiltro, avaliacaoFiltro, courses]);\n\n  // Ordena cursos do mais recente para o mais antigo\n  useEffect(() => {\n    const sortedCourses = [...courses].sort((a, b) => {\n      // Tenta usar dataCriacao, senão usa id (se incremental)\n      if (b.dataCriacao && a.dataCriacao) {\n        return new Date(b.dataCriacao) - new Date(a.dataCriacao);\n      }\n      return (b.id || 0) - (a.id || 0);\n    });\n    const filtered = sortedCourses.filter(course => {\n      const nomeMatch = course.titulo?.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? (course.tipo?.toLowerCase() === tipoFiltro.toLowerCase()) : true;\n      const localizacaoMatch = localizacaoFiltro ? ((course.localização || course.localizacao)?.toLowerCase() === localizacaoFiltro.toLowerCase()) : true;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? calcularMediaEstrelas(course.id) >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  }, [searchTerm, tipoFiltro, localizacaoFiltro, avaliacaoFiltro, courses]);\n\n  const cursosParaExibir = searchTerm || tipoFiltro || localizacaoFiltro || avaliacaoFiltro > 0\n    ? filteredCourses\n    : [...courses].sort((a, b) => {\n        if (b.dataCriacao && a.dataCriacao) {\n          return new Date(b.dataCriacao) - new Date(a.dataCriacao);\n        }\n        return (b.id || 0) - (a.id || 0);\n      });\n\n  const toggleDetalhes = (cursoId) => {\n    setExpandedCourseId(expandedCourseId === cursoId ? null : cursoId);\n  };\n\n  // Avaliar curso: enviar objeto completo conforme backend espera\n  const enviarAvaliacao = (cursoId) => {\n    setBackendError(\"\");\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch { }\n    if (!userId) {\n      setBackendError(\"Usuário inválido.\");\n      return;\n    }\n    const avaliacao = {\n      cursoId,\n      userId,\n      nota: novaNota,\n      comentario: novoComentario,\n      dataAvaliacao: new Date().toISOString()\n    };\n    fetch(\"https://localhost:7238/api/Avaliacoes\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(avaliacao)\n    })\n      .then(async res => {\n        if (!res.ok) {\n          const text = await res.text();\n          setBackendError(text || \"Erro ao enviar avaliação\");\n          throw new Error(text || \"Erro ao enviar avaliação\");\n        }\n        alert(\"Avaliação enviada!\");\n        // Atualiza avaliações após envio\n        fetch(`https://localhost:7238/api/avaliacoes/${cursoId}`)\n          .then(res => res.json())\n          .then(data => {\n            setAvaliacoes(prev => ({\n              ...prev,\n              [cursoId]: data\n            }));\n          });\n        setNovaNota(0);\n        setNovoComentario(\"\");\n      })\n      .catch(err => {\n        if (!err.message.includes('Erro ao enviar avaliação')) {\n          setBackendError(\"Erro ao enviar avaliação.\");\n        }\n      });\n  };\n\n  const calcularMediaEstrelas = (cursoId) => {\n    const lista = avaliacoes[cursoId];\n    if (!lista || lista.length === 0) return 0;\n    const soma = lista.reduce((acc, cur) => acc + cur.nota, 0);\n    return soma / lista.length;\n  };\n\n  return (\n    <div style={{ minHeight: \"100vh\" }}>\n      <Header />\n      <div className=\"mainTheme\" style={{ paddingTop: \"125px\", paddingBottom: \"150px\" }}>\n        <Container className=\"py-5\">\n          {backendError && (\n            <div style={{ color: 'red', marginBottom: 10, textAlign: 'center', fontWeight: 'bold' }}>\n              {backendError}\n            </div>\n          )}\n          {/* Botão Meus Cursos Salvos mais à direita, menos destacado e com ícone */}\n          <div className=\"d-flex justify-content-end mb-3\">\n            <Button variant=\"outline-primary\" size=\"md\" style={{ minWidth: 180, fontWeight: 500, fontSize: '1rem' }} onClick={() => navigate('/meuscursos')}>\n              <FaStar style={{ marginRight: 8, marginBottom: 2 }} />\n              Meus Cursos Salvos\n            </Button>\n          </div>\n          <h2 className=\"text-center mb-4\">Busque o curso dos seus sonhos!</h2>\n          <Form onSubmit={e => e.preventDefault()}>\n            <div className=\"d-flex mb-4 gap-2 align-items-center flex-wrap\">\n              <Form.Group controlId=\"search\" className=\"flex-grow-1 m-0\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Digite o nome do curso\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  style={{ height: '50px', fontSize: '1.25rem' }}\n                />\n              </Form.Group>\n              <Button\n                variant=\"primary\"\n                size=\"lg\"\n                style={{ height: '50px', fontSize: '1.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', minWidth: 60 }}\n                onClick={() => setShowFilters(f => !f)}\n                title=\"Filtros\"\n              >\n                <FaFilter />\n              </Button>\n            </div>\n            {showFilters && (\n              <div className=\"d-flex mb-4 gap-2 align-items-center flex-wrap animate__animated animate__fadeInDown\">\n                <Form.Group controlId=\"tipoFiltro\" className=\"m-0\">\n                  <Form.Select value={tipoFiltro} onChange={e => setTipoFiltro(e.target.value)}>\n                    <option value=\"\">Tipo</option>\n                    {[...new Set(courses.map(c => c.tipo).filter(Boolean))].map(tipo => (\n                      <option key={tipo} value={tipo}>{tipo}</option>\n                    ))}\n                  </Form.Select>\n                </Form.Group>\n                <Form.Group controlId=\"localizacaoFiltro\" className=\"m-0\">\n                  <Form.Select value={localizacaoFiltro} onChange={e => setLocalizacaoFiltro(e.target.value)}>\n                    <option value=\"\">Localização</option>\n                    {[...new Set(courses.map(c => c.localização || c.localizacao).filter(Boolean))].map(loc => (\n                      <option key={loc} value={loc}>{loc}</option>\n                    ))}\n                  </Form.Select>\n                </Form.Group>\n                <Form.Group controlId=\"avaliacaoFiltro\" className=\"m-0\">\n                  <Form.Select value={avaliacaoFiltro} onChange={e => setAvaliacaoFiltro(Number(e.target.value))}>\n                    <option value={0}>Avaliação</option>\n                    {[1, 2, 3, 4, 5].map(nota => (\n                      <option key={nota} value={nota}>{nota} estrelas ou mais</option>\n                    ))}\n                  </Form.Select>\n                </Form.Group>\n              </div>\n            )}\n          </Form>\n\n          <Row className=\"g-4\">\n            {cursosParaExibir.length > 0 ? (\n              cursosParaExibir.map(course => {\n                return (\n                  <Col key={course.id} md={4}>\n                    <Card className=\"h-100 shadow detalhe\">\n                      <Card.Body>\n                        {/* Favoritar: ícone de estrela ao lado do título */}\n                        <Card.Title className=\"d-flex align-items-center justify-content-between\">\n                          <span>{course.titulo}</span>\n                          <span className=\"d-flex align-items-center gap-2\">\n                            {/* Link do curso */}\n                            {course.link && (\n                              <a\n                                href={course.link}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                title=\"Acessar Site do Curso\"\n                                style={{ color: '#0d6efd', fontSize: 22, marginRight: 8 }}\n                              >\n                                <FaLink />\n                              </a>\n                            )}\n                            {/* Favoritar: sempre aparece, mas se não autenticado, redireciona para login */}\n                            <span\n                              style={{ cursor: 'pointer', fontSize: 22 }}\n                              title=\"Favoritar\"\n                              onClick={() => {\n                                if (!isAuthenticated) {\n                                  navigate('/login');\n                                } else {\n                                  salvarCurso(course.id);\n                                }\n                              }}\n                              onMouseEnter={e => e.currentTarget.firstChild.style.color = '#ffc107'}\n                              onMouseLeave={e => e.currentTarget.firstChild.style.color = ''}\n                            >\n                              <FaRegStar />\n                            </span>\n                          </span>\n                        </Card.Title>\n                        <Card.Text>{course.instituicao}</Card.Text>\n\n                        {/* Exibir nota média sempre */}\n                        {(() => {\n                          const listaAvaliacoes = avaliacoes[course.id] || [];\n                          const media = calcularMediaEstrelas(course.id);\n                          return (\n                            <div className=\"mb-2\">\n                              {[...Array(5)].map((_, i) => (\n                                <FaStar\n                                  key={i}\n                                  color={i < Math.round(media) ? \"#ffc107\" : \"#e4e5e9\"}\n                                />\n                              ))}\n                              <small className=\"ms-2\">{media > 0 ? media.toFixed(1) : \"0.0\"} ({listaAvaliacoes.length} avaliações)</small>\n                            </div>\n                          );\n                        })()}\n\n                        {expandedCourseId === course.id && (\n                          <>\n                            <hr />\n                            <p><strong>Descrição:</strong> {course.descricao || \"N/A\"}</p>\n                            <p><strong>Tipo:</strong> {course.tipo || \"N/A\"}</p>\n                            <p><strong>Localização:</strong> {course.localização || course.localizacao || \"N/A\"}</p>\n                            <p><strong>Carga Horária:</strong> {course.cargaHoraria || \"N/A\"}</p>\n                            <p><strong>Valor:</strong> {course.valor || \"N/A\"}</p>\n                          </>\n                        )}\n\n                        <div className=\"d-flex justify-content-between mt-3 flex-wrap gap-2\">\n                          {/* Botão ver mais: seta para baixo, sem botão em volta */}\n                          <span\n                            title={expandedCourseId === course.id ? \"Ocultar Detalhes\" : \"Ver Detalhes\"}\n                            onClick={() => toggleDetalhes(course.id)}\n                          >\n                            <i\n                              className=\"fa-solid fa-chevron-down \"\n                              style={{\n                                transform: expandedCourseId === course.id ? 'rotate(180deg)' : 'rotate(0deg)',\n                                transition: 'transform 0.3s ease',\n                              }}\n                            ></i>\n                          </span>\n                          {/* Avaliações: sempre aparece, mas se não autenticado, redireciona para login */}\n                          <Button variant=\"warning\" onClick={() => {\n                            if (!isAuthenticated) {\n                              navigate('/login');\n                            } else {\n                              if (showAvaliacoesId === course.id) {\n                                setShowAvaliacoesId(null);\n                              } else {\n                                setShowAvaliacoesId(course.id);\n                                if (!avaliacoes[course.id]) {\n                                  fetch(`https://localhost:7238/api/avaliacoes/${course.id}`)\n                                    .then(res => res.json())\n                                    .then(data => {\n                                      setAvaliacoes(prev => ({ ...prev, [course.id]: data }));\n                                    });\n                                }\n                              }\n                            }\n                          }}>\n                            Avaliações\n                          </Button>\n                        </div>\n\n                        {showAvaliacoesId === course.id && (\n                          <div className=\"mt-3\">\n                            <h6 className=\"mt-3\">Avaliações</h6>\n                            {(avaliacoes[course.id] && avaliacoes[course.id].length > 0) ? (\n                              avaliacoes[course.id].map((a, i) => (\n                                <div key={i}>\n                                  <strong>{a.usuario || \"Usuário\"}:</strong>\n                                  <div style={{ fontSize: 18 }}>\n                                    {[...Array(5)].map((_, idx) => (\n                                      <FaStar\n                                        key={idx}\n                                        color={idx < a.nota ? \"#ffc107\" : \"#e4e5e9\"}\n                                        style={{ marginRight: 2 }}\n                                      />\n                                    ))}\n                                  </div>\n                                  {a.comentario && <p><em>{a.comentario}</em></p>}\n                                  <hr />\n                                </div>\n                              ))\n                            ) : (\n                              <p>Sem avaliações ainda.</p>\n                            )}\n                            {/* Botão avaliar: sempre aparece, mas se não autenticado, redireciona para login */}\n                            <Button variant=\"primary\" className=\"mt-2\" onClick={() => {\n                              if (!isAuthenticated) {\n                                navigate('/login');\n                              } else {\n                                setCursoParaAvaliar(course.id);\n                                setShowAvaliacaoModal(true);\n                              }\n                            }}>\n                              Avaliar este curso\n                            </Button>\n                          </div>\n                        )}\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                );\n              })\n            ) : (\n              <Col>\n                <p className=\"text-center\">Nenhum curso encontrado com os critérios atuais.</p>\n              </Col>\n            )}\n          </Row>\n        </Container>\n      </div>\n      <Footer />\n\n      {/* Modal para avaliação */}\n      <Modal show={showAvaliacaoModal} onHide={() => setShowAvaliacaoModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Avaliar Curso</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group controlId=\"novaNota\">\n              <Form.Label>Nota</Form.Label>\n              <div>\n                {[1, 2, 3, 4, 5].map(star => (\n                  <FaStar\n                    key={star}\n                    color={star <= (hoverNota || novaNota) ? \"#ffc107\" : \"#e4e5e9\"}\n                    size={30}\n                    onMouseEnter={() => setHoverNota(star)}\n                    onMouseLeave={() => setHoverNota(0)}\n                    onClick={() => setNovaNota(star)}\n                    style={{ cursor: \"pointer\", marginRight: 5 }}\n                  />\n                ))}\n              </div>\n            </Form.Group>\n            <Form.Group controlId=\"novoComentario\">\n              <Form.Label>Comentário</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={novoComentario}\n                onChange={(e) => setNovoComentario(e.target.value)}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowAvaliacaoModal(false)}>\n            Fechar\n          </Button>\n          <Button variant=\"primary\" onClick={() => {\n            enviarAvaliacao(cursoParaAvaliar);\n            setShowAvaliacaoModal(false);\n          }}>\n            Enviar Avaliação\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}