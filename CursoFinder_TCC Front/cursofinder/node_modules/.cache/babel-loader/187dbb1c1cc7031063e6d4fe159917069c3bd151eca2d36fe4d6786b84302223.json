{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reina\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\TCC\\\\CursoFinder_TCC Front\\\\cursofinder\\\\src\\\\pages\\\\Tela Inicial\\\\BuscarCurso.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, Button, Form, Modal } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"../TelasHeadFoot/Header\";\nimport Footer from \"../TelasHeadFoot/Footer\";\nimport { FaStar } from \"react-icons/fa\";\nimport './TelaInicial.css';\nimport { useAuth } from \"../../context/AuthProvider\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchCoursesPage() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredCourses, setFilteredCourses] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [avaliacoes, setAvaliacoes] = useState({});\n  const [novaNota, setNovaNota] = useState(0);\n  const [hoverNota, setHoverNota] = useState(0);\n  const [novoComentario, setNovoComentario] = useState(\"\");\n  const [avaliandoCursoId, setAvaliandoCursoId] = useState(null);\n  const [tipoFiltro, setTipoFiltro] = useState(\"\");\n  const [localizacaoFiltro, setLocalizacaoFiltro] = useState(\"\");\n  const [avaliacaoFiltro, setAvaliacaoFiltro] = useState(0);\n  const [showAvaliacaoModal, setShowAvaliacaoModal] = useState(false);\n  const [cursoParaAvaliar, setCursoParaAvaliar] = useState(null);\n  const navigate = useNavigate();\n  const {\n    isAuthenticated\n  } = useAuth();\n  useEffect(() => {\n    fetch(\"https://localhost:7238/api/Curso\").then(res => res.json()).then(data => setCourses(data)).catch(err => console.error(\"Erro ao buscar cursos:\", err));\n  }, []);\n\n  // Buscar avaliações de todos os cursos ao carregar cursos\n  useEffect(() => {\n    if (courses.length > 0) {\n      courses.forEach(course => {\n        fetch(`https://localhost:7238/api/avaliacoes/${course.id}`).then(res => res.json()).then(data => {\n          setAvaliacoes(prev => ({\n            ...prev,\n            [course.id]: data\n          }));\n        }).catch(err => console.error(\"Erro ao buscar avaliações:\", err));\n      });\n    }\n  }, [courses]);\n\n  // Salvar curso: enviar objeto com userId e cursoId\n  const salvarCurso = cursoId => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"Você precisa estar logado para salvar um curso.\");\n      navigate(\"/login\");\n      return;\n    }\n    // Decodifica o token para pegar o userId\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch {}\n    if (!userId) {\n      alert(\"Usuário inválido.\");\n      return;\n    }\n    fetch(\"https://localhost:7238/api/CursosSalvos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        userId,\n        cursoId\n      })\n    }).then(res => {\n      if (!res.ok) throw new Error(\"Erro ao salvar curso\");\n      return res.text();\n    }).then(msg => alert(msg)).catch(err => {\n      console.error(err);\n      alert(\"Não foi possível salvar o curso.\");\n    });\n  };\n  const handleSearch = () => {\n    const filtered = courses.filter(course => {\n      var _course$titulo, _course$tipo, _ref;\n      const nomeMatch = (_course$titulo = course.titulo) === null || _course$titulo === void 0 ? void 0 : _course$titulo.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? ((_course$tipo = course.tipo) === null || _course$tipo === void 0 ? void 0 : _course$tipo.toLowerCase()) === tipoFiltro.toLowerCase() : true;\n      const localizacaoMatch = localizacaoFiltro ? ((_ref = course.localização || course.localizacao) === null || _ref === void 0 ? void 0 : _ref.toLowerCase()) === localizacaoFiltro.toLowerCase() : true;\n      const avaliacaoMedia = course.avaliacoes && course.avaliacoes.length > 0 ? course.avaliacoes.reduce((acc, a) => acc + (a.nota || 0), 0) / course.avaliacoes.length : 0;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? avaliacaoMedia >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  };\n  const cursosParaExibir = searchTerm ? filteredCourses : courses;\n  const toggleDetalhes = cursoId => {\n    setExpandedCourseId(expandedCourseId === cursoId ? null : cursoId);\n  };\n\n  // Avaliar curso: enviar objeto completo conforme backend espera\n  const enviarAvaliacao = cursoId => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"Faça login para avaliar.\");\n      return;\n    }\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch {}\n    if (!userId) {\n      alert(\"Usuário inválido.\");\n      return;\n    }\n    const avaliacao = {\n      cursoId,\n      userId,\n      nota: novaNota,\n      comentario: novoComentario,\n      dataAvaliacao: new Date().toISOString()\n    };\n    fetch(\"https://localhost:7238/api/Avaliacoes\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(avaliacao)\n    }).then(res => {\n      if (!res.ok) throw new Error(\"Erro ao enviar avaliação\");\n      alert(\"Avaliação enviada!\");\n      // Atualiza avaliações após envio\n      fetch(`https://localhost:7238/api/avaliacoes/${cursoId}`).then(res => res.json()).then(data => {\n        setAvaliacoes(prev => ({\n          ...prev,\n          [cursoId]: data\n        }));\n      });\n      setNovaNota(0);\n      setNovoComentario(\"\");\n    }).catch(err => {\n      console.error(err);\n      alert(\"Erro ao enviar avaliação.\");\n    });\n  };\n  const calcularMediaEstrelas = cursoId => {\n    const lista = avaliacoes[cursoId];\n    if (!lista || lista.length === 0) return 0;\n    const soma = lista.reduce((acc, cur) => acc + cur.nota, 0);\n    return soma / lista.length;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainTheme\",\n      style: {\n        paddingTop: \"125px\",\n        paddingBottom: \"150px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center mb-4\",\n          children: \"Busque o curso dos seus sonhos!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => {\n            e.preventDefault();\n            handleSearch();\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-4 gap-2 align-items-center flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"search\",\n              className: \"flex-grow-1 m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Digite o nome do curso\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                style: {\n                  height: '50px',\n                  fontSize: '1.25rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"tipoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: tipoFiltro,\n                onChange: e => setTipoFiltro(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), [...new Set(courses.map(c => c.tipo).filter(Boolean))].map(tipo => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: tipo,\n                  children: tipo\n                }, tipo, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"localizacaoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: localizacaoFiltro,\n                onChange: e => setLocalizacaoFiltro(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Localiza\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), [...new Set(courses.map(c => c.localização || c.localizacao).filter(Boolean))].map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: loc,\n                  children: loc\n                }, loc, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"avaliacaoFiltro\",\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: avaliacaoFiltro,\n                onChange: e => setAvaliacaoFiltro(Number(e.target.value)),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 0,\n                  children: \"Avalia\\xE7\\xE3o\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), [5, 4, 3, 2, 1].map(nota => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: nota,\n                  children: [nota, \" estrelas ou mais\"]\n                }, nota, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: handleSearch,\n              children: \"Buscar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-success\",\n              size: \"lg\",\n              onClick: () => navigate('/meuscursos'),\n              children: \"Meus Cursos Salvos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-4\",\n          children: cursosParaExibir.length > 0 ? cursosParaExibir.map(course => {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"h-100 shadow detalhe\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    children: course.titulo\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    children: course.instituicao\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 25\n                  }, this), (() => {\n                    const listaAvaliacoes = avaliacoes[course.id] || [];\n                    const media = calcularMediaEstrelas(course.id);\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(FaStar, {\n                        color: i < Math.round(media) ? \"#ffc107\" : \"#e4e5e9\"\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 238,\n                        columnNumber: 33\n                      }, this)), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"ms-2\",\n                        children: [media > 0 ? media.toFixed(1) : \"0.0\", \" (\", listaAvaliacoes.length, \" avalia\\xE7\\xF5es)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 29\n                    }, this);\n                  })(), expandedCourseId === course.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Descri\\xE7\\xE3o:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 32\n                      }, this), \" \", course.descricao || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Tipo:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 252,\n                        columnNumber: 32\n                      }, this), \" \", course.tipo || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Localiza\\xE7\\xE3o:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 32\n                      }, this), \" \", course.localização || course.localizacao || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Carga Hor\\xE1ria:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 32\n                      }, this), \" \", course.cargaHoraria || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Valor:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 32\n                      }, this), \" \", course.valor || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between mt-3 flex-wrap gap-2\",\n                    children: [isAuthenticated && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      onClick: () => salvarCurso(course.id),\n                      children: \"Favoritar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"info\",\n                      onClick: () => toggleDetalhes(course.id),\n                      children: expandedCourseId === course.id ? \"Ocultar Detalhes\" : \"Ver Detalhes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 27\n                    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"warning\",\n                      onClick: () => {\n                        setCursoParaAvaliar(course.id);\n                        setShowAvaliacaoModal(true);\n                      },\n                      children: \"Avaliar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                    show: showAvaliacaoModal,\n                    onHide: () => {\n                      setShowAvaliacaoModal(false);\n                      setAvaliandoCursoId(null);\n                      setNovaNota(0);\n                      setNovoComentario(\"\");\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                      closeButton: true,\n                      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                        children: \"Avaliar Curso\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          children: \"Nota\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            fontSize: 24\n                          },\n                          children: [[1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(FaStar, {\n                            style: {\n                              cursor: 'pointer',\n                              marginRight: 4\n                            },\n                            color: (hoverNota || novaNota) >= star ? '#ffc107' : '#e4e5e9',\n                            onClick: () => setNovaNota(star),\n                            onMouseOver: () => setHoverNota(star),\n                            onMouseOut: () => setHoverNota(0)\n                          }, star, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 286,\n                            columnNumber: 35\n                          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ms-2\",\n                            children: novaNota > 0 ? `${novaNota} estrela${novaNota > 1 ? 's' : ''}` : ''\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 284,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                        className: \"mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                          children: \"Coment\\xE1rio\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 301,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                          as: \"textarea\",\n                          rows: 2,\n                          value: novoComentario,\n                          onChange: e => setNovoComentario(e.target.value)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 302,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"secondary\",\n                        onClick: () => {\n                          setShowAvaliacaoModal(false);\n                          setAvaliandoCursoId(null);\n                          setNovaNota(0);\n                          setNovoComentario(\"\");\n                        },\n                        children: \"Cancelar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        onClick: () => {\n                          enviarAvaliacao(cursoParaAvaliar);\n                          setShowAvaliacaoModal(false);\n                        },\n                        children: \"Enviar Avalia\\xE7\\xE3o\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this)\n            }, course.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(Col, {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Nenhum curso encontrado. Tente outro nome.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchCoursesPage, \"ITbvv8ZqlCunsDuvzHwI3KyBwe0=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = SearchCoursesPage;\nvar _c;\n$RefreshReg$(_c, \"SearchCoursesPage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Form","Modal","useNavigate","Header","Footer","FaStar","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchCoursesPage","_s","searchTerm","setSearchTerm","filteredCourses","setFilteredCourses","courses","setCourses","expandedCourseId","setExpandedCourseId","avaliacoes","setAvaliacoes","novaNota","setNovaNota","hoverNota","setHoverNota","novoComentario","setNovoComentario","avaliandoCursoId","setAvaliandoCursoId","tipoFiltro","setTipoFiltro","localizacaoFiltro","setLocalizacaoFiltro","avaliacaoFiltro","setAvaliacaoFiltro","showAvaliacaoModal","setShowAvaliacaoModal","cursoParaAvaliar","setCursoParaAvaliar","navigate","isAuthenticated","fetch","then","res","json","data","catch","err","console","error","length","forEach","course","id","prev","salvarCurso","cursoId","token","localStorage","getItem","alert","userId","decoded","JSON","parse","atob","split","method","headers","Authorization","body","stringify","ok","Error","text","msg","handleSearch","filtered","filter","_course$titulo","_course$tipo","_ref","nomeMatch","titulo","toLowerCase","includes","tipoMatch","tipo","localizacaoMatch","localização","localizacao","avaliacaoMedia","reduce","acc","a","nota","avaliacaoMatch","cursosParaExibir","toggleDetalhes","enviarAvaliacao","avaliacao","comentario","dataAvaliacao","Date","toISOString","calcularMediaEstrelas","lista","soma","cur","style","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","className","paddingTop","paddingBottom","onSubmit","e","preventDefault","Group","controlId","Control","type","placeholder","value","onChange","target","height","fontSize","Select","Set","map","c","Boolean","loc","Number","variant","size","onClick","md","Body","Title","Text","instituicao","listaAvaliacoes","media","Array","_","i","color","Math","round","toFixed","descricao","cargaHoraria","valor","show","onHide","closeButton","Label","star","cursor","marginRight","onMouseOver","onMouseOut","as","rows","_c","$RefreshReg$"],"sources":["C:/Users/reina/OneDrive/Área de Trabalho/TCC/CursoFinder_TCC Front/cursofinder/src/pages/Tela Inicial/BuscarCurso.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container, Row, Col, Card, Button, Form, Modal\n} from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Header from \"../TelasHeadFoot/Header\";\nimport Footer from \"../TelasHeadFoot/Footer\";\nimport { FaStar } from \"react-icons/fa\";\nimport './TelaInicial.css';\nimport { useAuth } from \"../../context/AuthProvider\";\n\nexport default function SearchCoursesPage() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredCourses, setFilteredCourses] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [expandedCourseId, setExpandedCourseId] = useState(null);\n  const [avaliacoes, setAvaliacoes] = useState({});\n  const [novaNota, setNovaNota] = useState(0);\n  const [hoverNota, setHoverNota] = useState(0);\n  const [novoComentario, setNovoComentario] = useState(\"\");\n  const [avaliandoCursoId, setAvaliandoCursoId] = useState(null);\n  const [tipoFiltro, setTipoFiltro] = useState(\"\");\n  const [localizacaoFiltro, setLocalizacaoFiltro] = useState(\"\");\n  const [avaliacaoFiltro, setAvaliacaoFiltro] = useState(0);\n  const [showAvaliacaoModal, setShowAvaliacaoModal] = useState(false);\n  const [cursoParaAvaliar, setCursoParaAvaliar] = useState(null);\n  const navigate = useNavigate();\n  const { isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    fetch(\"https://localhost:7238/api/Curso\")\n      .then(res => res.json())\n      .then(data => setCourses(data))\n      .catch(err => console.error(\"Erro ao buscar cursos:\", err));\n  }, []);\n\n  // Buscar avaliações de todos os cursos ao carregar cursos\n  useEffect(() => {\n    if (courses.length > 0) {\n      courses.forEach(course => {\n        fetch(`https://localhost:7238/api/avaliacoes/${course.id}`)\n          .then(res => res.json())\n          .then(data => {\n            setAvaliacoes(prev => ({\n              ...prev,\n              [course.id]: data\n            }));\n          })\n          .catch(err => console.error(\"Erro ao buscar avaliações:\", err));\n      });\n    }\n  }, [courses]);\n\n  // Salvar curso: enviar objeto com userId e cursoId\n  const salvarCurso = (cursoId) => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"Você precisa estar logado para salvar um curso.\");\n      navigate(\"/login\");\n      return;\n    }\n    // Decodifica o token para pegar o userId\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch {}\n    if (!userId) {\n      alert(\"Usuário inválido.\");\n      return;\n    }\n    fetch(\"https://localhost:7238/api/CursosSalvos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({ userId, cursoId })\n    })\n      .then(res => {\n        if (!res.ok) throw new Error(\"Erro ao salvar curso\");\n        return res.text();\n      })\n      .then(msg => alert(msg))\n      .catch(err => {\n        console.error(err);\n        alert(\"Não foi possível salvar o curso.\");\n      });\n  };\n\n  const handleSearch = () => {\n    const filtered = courses.filter(course => {\n      const nomeMatch = course.titulo?.toLowerCase().includes(searchTerm.toLowerCase());\n      const tipoMatch = tipoFiltro ? (course.tipo?.toLowerCase() === tipoFiltro.toLowerCase()) : true;\n      const localizacaoMatch = localizacaoFiltro ? ((course.localização || course.localizacao)?.toLowerCase() === localizacaoFiltro.toLowerCase()) : true;\n      const avaliacaoMedia = course.avaliacoes && course.avaliacoes.length > 0\n        ? course.avaliacoes.reduce((acc, a) => acc + (a.nota || 0), 0) / course.avaliacoes.length\n        : 0;\n      const avaliacaoMatch = avaliacaoFiltro > 0 ? avaliacaoMedia >= avaliacaoFiltro : true;\n      return nomeMatch && tipoMatch && localizacaoMatch && avaliacaoMatch;\n    });\n    setFilteredCourses(filtered);\n  };\n\n  const cursosParaExibir = searchTerm ? filteredCourses : courses;\n\n  const toggleDetalhes = (cursoId) => {\n    setExpandedCourseId(expandedCourseId === cursoId ? null : cursoId);\n  };\n\n  // Avaliar curso: enviar objeto completo conforme backend espera\n  const enviarAvaliacao = (cursoId) => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"Faça login para avaliar.\");\n      return;\n    }\n    let userId = null;\n    try {\n      const decoded = JSON.parse(atob(token.split('.')[1]));\n      userId = decoded[\"nameid\"] || decoded[\"sub\"] || decoded[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"];\n    } catch {}\n    if (!userId) {\n      alert(\"Usuário inválido.\");\n      return;\n    }\n    const avaliacao = {\n      cursoId,\n      userId,\n      nota: novaNota,\n      comentario: novoComentario,\n      dataAvaliacao: new Date().toISOString()\n    };\n    fetch(\"https://localhost:7238/api/Avaliacoes\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(avaliacao)\n    })\n      .then(res => {\n        if (!res.ok) throw new Error(\"Erro ao enviar avaliação\");\n        alert(\"Avaliação enviada!\");\n        // Atualiza avaliações após envio\n        fetch(`https://localhost:7238/api/avaliacoes/${cursoId}`)\n          .then(res => res.json())\n          .then(data => {\n            setAvaliacoes(prev => ({\n              ...prev,\n              [cursoId]: data\n            }));\n          });\n        setNovaNota(0);\n        setNovoComentario(\"\");\n      })\n      .catch(err => {\n        console.error(err);\n        alert(\"Erro ao enviar avaliação.\");\n      });\n  };\n\n  const calcularMediaEstrelas = (cursoId) => {\n    const lista = avaliacoes[cursoId];\n    if (!lista || lista.length === 0) return 0;\n    const soma = lista.reduce((acc, cur) => acc + cur.nota, 0);\n    return soma / lista.length;\n  };\n\n  return (\n    <div style={{ minHeight: \"100vh\" }}>\n      <Header />\n      <div className=\"mainTheme\" style={{ paddingTop: \"125px\", paddingBottom: \"150px\" }}>\n        <Container className=\"py-5\">\n          <h2 className=\"text-center mb-4\">Busque o curso dos seus sonhos!</h2>\n          <Form onSubmit={(e) => { e.preventDefault(); handleSearch(); }}>\n            <div className=\"d-flex mb-4 gap-2 align-items-center flex-wrap\">\n              <Form.Group controlId=\"search\" className=\"flex-grow-1 m-0\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Digite o nome do curso\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  style={{ height: '50px', fontSize: '1.25rem' }}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"tipoFiltro\" className=\"m-0\">\n                <Form.Select value={tipoFiltro} onChange={e => setTipoFiltro(e.target.value)}>\n                  <option value=\"\">Tipo</option>\n                  {[...new Set(courses.map(c => c.tipo).filter(Boolean))].map(tipo => (\n                    <option key={tipo} value={tipo}>{tipo}</option>\n                  ))}\n                </Form.Select>\n              </Form.Group>\n              <Form.Group controlId=\"localizacaoFiltro\" className=\"m-0\">\n                <Form.Select value={localizacaoFiltro} onChange={e => setLocalizacaoFiltro(e.target.value)}>\n                  <option value=\"\">Localização</option>\n                  {[...new Set(courses.map(c => c.localização || c.localizacao).filter(Boolean))].map(loc => (\n                    <option key={loc} value={loc}>{loc}</option>\n                  ))}\n                </Form.Select>\n              </Form.Group>\n              <Form.Group controlId=\"avaliacaoFiltro\" className=\"m-0\">\n                <Form.Select value={avaliacaoFiltro} onChange={e => setAvaliacaoFiltro(Number(e.target.value))}>\n                  <option value={0}>Avaliação</option>\n                  {[5,4,3,2,1].map(nota => (\n                    <option key={nota} value={nota}>{nota} estrelas ou mais</option>\n                  ))}\n                </Form.Select>\n              </Form.Group>\n              <Button variant=\"primary\" size=\"lg\" onClick={handleSearch}>\n                Buscar\n              </Button>\n              <Button variant=\"outline-success\" size=\"lg\" onClick={() => navigate('/meuscursos')}>\n                Meus Cursos Salvos\n              </Button>\n            </div>\n          </Form>\n\n          <Row className=\"g-4\">\n            {cursosParaExibir.length > 0 ? (\n              cursosParaExibir.map(course => {\n                return (\n                  <Col key={course.id} md={4}>\n                    <Card className=\"h-100 shadow detalhe\">\n                      <Card.Body>\n                        <Card.Title>{course.titulo}</Card.Title>\n                        <Card.Text>{course.instituicao}</Card.Text>\n\n                        {/* Exibir nota média sempre */}\n                        {(() => {\n                          const listaAvaliacoes = avaliacoes[course.id] || [];\n                          const media = calcularMediaEstrelas(course.id);\n                          return (\n                            <div className=\"mb-2\">\n                              {[...Array(5)].map((_, i) => (\n                                <FaStar\n                                  key={i}\n                                  color={i < Math.round(media) ? \"#ffc107\" : \"#e4e5e9\"}\n                                />\n                              ))}\n                              <small className=\"ms-2\">{media > 0 ? media.toFixed(1) : \"0.0\"} ({listaAvaliacoes.length} avaliações)</small>\n                            </div>\n                          );\n                        })()}\n\n                        {expandedCourseId === course.id && (\n                          <>\n                            <hr />\n                            <p><strong>Descrição:</strong> {course.descricao || \"N/A\"}</p>\n                            <p><strong>Tipo:</strong> {course.tipo || \"N/A\"}</p>\n                            <p><strong>Localização:</strong> {course.localização || course.localizacao || \"N/A\"}</p>\n                            <p><strong>Carga Horária:</strong> {course.cargaHoraria || \"N/A\"}</p>\n                            <p><strong>Valor:</strong> {course.valor || \"N/A\"}</p>\n                          </>\n                        )}\n\n                        <div className=\"d-flex justify-content-between mt-3 flex-wrap gap-2\">\n                          {isAuthenticated && (\n                            <Button variant=\"success\" onClick={() => salvarCurso(course.id)}>Favoritar</Button>\n                          )}\n                          <Button variant=\"info\" onClick={() => toggleDetalhes(course.id)}>\n                            {expandedCourseId === course.id ? \"Ocultar Detalhes\" : \"Ver Detalhes\"}\n                          </Button>\n                          {isAuthenticated && (\n                            <Button variant=\"warning\" onClick={() => {\n                              setCursoParaAvaliar(course.id);\n                              setShowAvaliacaoModal(true);\n                            }}>\n                              Avaliar\n                            </Button>\n                          )}\n                        </div>\n\n                        {/* Modal de Avaliação */}\n                        <Modal show={showAvaliacaoModal} onHide={() => { setShowAvaliacaoModal(false); setAvaliandoCursoId(null); setNovaNota(0); setNovoComentario(\"\"); }}>\n                          <Modal.Header closeButton>\n                            <Modal.Title>Avaliar Curso</Modal.Title>\n                          </Modal.Header>\n                          <Modal.Body>\n                            <Form.Group className=\"mb-2\">\n                              <Form.Label>Nota</Form.Label>\n                              <div style={{ fontSize: 24 }}>\n                                {[1, 2, 3, 4, 5].map((star) => (\n                                  <FaStar\n                                    key={star}\n                                    style={{ cursor: 'pointer', marginRight: 4 }}\n                                    color={(hoverNota || novaNota) >= star ? '#ffc107' : '#e4e5e9'}\n                                    onClick={() => setNovaNota(star)}\n                                    onMouseOver={() => setHoverNota(star)}\n                                    onMouseOut={() => setHoverNota(0)}\n                                  />\n                                ))}\n                                <span className=\"ms-2\">\n                                  {novaNota > 0 ? `${novaNota} estrela${novaNota > 1 ? 's' : ''}` : ''}\n                                </span>\n                              </div>\n                            </Form.Group>\n                            <Form.Group className=\"mb-2\">\n                              <Form.Label>Comentário</Form.Label>\n                              <Form.Control\n                                as=\"textarea\"\n                                rows={2}\n                                value={novoComentario}\n                                onChange={(e) => setNovoComentario(e.target.value)}\n                              />\n                            </Form.Group>\n                          </Modal.Body>\n                          <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={() => { setShowAvaliacaoModal(false); setAvaliandoCursoId(null); setNovaNota(0); setNovoComentario(\"\"); }}>\n                              Cancelar\n                            </Button>\n                            <Button variant=\"primary\" onClick={() => { enviarAvaliacao(cursoParaAvaliar); setShowAvaliacaoModal(false); }}>\n                              Enviar Avaliação\n                            </Button>\n                          </Modal.Footer>\n                        </Modal>\n                      </Card.Body>\n                    </Card>\n                  </Col>\n                );\n              })\n            ) : (\n              <Col className=\"text-center\">\n                <p>Nenhum curso encontrado. Tente outro nome.</p>\n              </Col>\n            )}\n          </Row>\n        </Container>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}